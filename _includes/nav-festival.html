<div class="nav py-2 md:py-5">
  <a class="nav__logo" href="{{site.baseurl}}/">
    <img src="{{ site.baseurl }}/assets/images/logo.svg" alt="LOGO" />
  </a>

  <div class="container mx-auto md:max-w-6xl flex items-center justify-center flex-wrap gap-3 md:gap-6">

    <nav class="flex items-center justify-center gap-4 md:gap-8 flex-wrap">

      <!-- FESTIVAL + DROPDOWN -->
      <div class="relative group" id="festivalDropdown">
        <button type="button" onclick="toggleDropdown(event)" ondblclick="window.location.href='{{ site.baseurl }}/'" class="text-base md:text-xl inline-flex items-center gap-1 bg-transparent border-0 text-white font-bold cursor-pointer p-0 m-0 underline leading-normal">
          Festival <span class="text-sm"></span>
        </button>

        <!-- Dropdown -->
        <div id="dropdownMenu" class="flex nav__drop absolute left-0 top-full pt-4 hidden w-56 flex-col rounded bg-white text-black shadow-lg group-hover:flex z-50">
          <a href="{{ site.baseurl }}/" class="px-4 py-2 text-sm hover:bg-gray-100" onclick="smoothScrollToTop(); closeDropdown(); event.preventDefault();">Home</a>
          <a href="{{ site.baseurl }}/#cocreatief" class="px-4 py-2 text-sm hover:bg-gray-100" onclick="smoothScrollTo('cocreatief'); closeDropdown(); event.preventDefault();">Co-creatief</a>
          <a href="{{ site.baseurl }}/#programma" class="px-4 py-2 text-sm hover:bg-gray-100" onclick="smoothScrollTo('programma'); closeDropdown(); event.preventDefault();">Programma</a>
          <a href="{{ site.baseurl }}/#wanneer" class="px-4 py-2 text-sm hover:bg-gray-100" onclick="smoothScrollTo('wanneer'); closeDropdown(); event.preventDefault();">Wanneer</a>
          <a href="{{ site.baseurl }}/#waar" class="px-4 py-2 text-sm hover:bg-gray-100" onclick="smoothScrollTo('waar'); closeDropdown(); event.preventDefault();">Waar/Vervoer</a>
          <a href="{{ site.baseurl }}/#Voedselprogramma" class="px-4 py-2 text-sm hover:bg-gray-100" onclick="smoothScrollTo('Voedselprogramma'); closeDropdown(); event.preventDefault();">Voedselprogramma</a>
          <a href="{{ site.baseurl }}/#Tickets" class="px-4 py-2 text-sm hover:bg-gray-100" onclick="smoothScrollTo('Tickets'); closeDropdown(); event.preventDefault();">Tickets</a>
          <a href="{{ site.baseurl }}/#Kamperen" class="px-4 py-2 text-sm hover:bg-gray-100" onclick="smoothScrollTo('Kamperen'); closeDropdown(); event.preventDefault();">Kamperen</a>
          <a href="{{ site.baseurl }}/#belangrijk" class="px-4 py-2 text-sm hover:bg-gray-100" onclick="smoothScrollTo('belangrijk'); closeDropdown(); event.preventDefault();">Belangrijk</a>
          <a href="{{ site.baseurl }}/#contact" class="px-4 py-2 text-sm hover:bg-gray-100" onclick="smoothScrollTo('contact'); closeDropdown(); event.preventDefault();">Contact</a>
        </div>
      </div>

      <!-- LOSSE LINKS -->
      <a href="{{ site.baseurl }}/nieuwsbrief" class="text-base md:text-xl">Nieuwsbrief</a>
      <a href="{{ site.baseurl }}/manifest" class="text-base md:text-xl">Manifest</a>
      <a href="{{ site.baseurl }}/smoelenboek" class="text-base md:text-xl">Smoelenboek</a>
      <a href="https://winkel.eaumontjardin.fr/wordpress/" class="text-base md:text-xl">Tickets</a>
      <a href="https://winkel.eaumontjardin.fr/wordpress/?page_id=7" class="text-base md:text-xl">Winkelwagen</a>
      <a href="https://winkel.eaumontjardin.fr/wordpress/?page_id=751" class="text-base md:text-xl">Doneer</a>
    </nav>

    <!-- DONEER BUTTON RECHTS -->
    <a class="nav__tickets" href="https://winkel.eaumontjardin.fr/wordpress/?page_id=751">
      <img src="{{ site.baseurl }}/assets/images/star.svg" alt>
      <h2>Doneer</h2>
    </a>

  </div>
</div>

<script>
// ============================================
// DROPDOWN MENU JAVASCRIPT VOOR MOBIEL & DESKTOP
// ============================================
// Dit script zorgt ervoor dat het dropdown menu goed werkt op telefoons
// en automatisch sluit na een klik op een menu-item

// Functie: Open/sluit dropdown bij klik op "Festival" button
function toggleDropdown(event) {
  event.stopPropagation(); // Voorkom dat klik doorgaat naar document (anders sluit ie meteen weer)
  const dropdown = document.getElementById('dropdownMenu');
  // Wissel tussen verborgen (hidden) en zichtbaar (flex)
  dropdown.classList.toggle('hidden');
  dropdown.classList.toggle('flex');
}

// Functie: Sluit dropdown (gebruikt bij klik op menu-items)
function closeDropdown() {
  const dropdown = document.getElementById('dropdownMenu');
  dropdown.classList.add('hidden');
  dropdown.classList.remove('flex');
}

// Functie: Scroll naar sectie met offset zodat titel op 1/6e van scherm staat
function smoothScrollTo(targetId) {
  const element = document.getElementById(targetId);
  if (element) {
    // Bereken positie: element top - (1/6 van viewport height)
    const elementPosition = element.getBoundingClientRect().top + window.pageYOffset;
    const offsetPosition = elementPosition - (window.innerHeight / 6);
    
    window.scrollTo({
      top: offsetPosition,
      behavior: 'smooth'
    });
  }
}

// Functie: Scroll smooth naar boven van de pagina (voor Home knop)
function smoothScrollToTop() {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
}

// Event Listener: Sluit dropdown als je ergens anders op de pagina klikt
document.addEventListener('click', function(event) {
  const dropdown = document.getElementById('dropdownMenu');
  const festivalDiv = document.getElementById('festivalDropdown');
  
  // Check of de klik BUITEN het Festival dropdown was
  if (dropdown && festivalDiv && !festivalDiv.contains(event.target)) {
    dropdown.classList.add('hidden');   // Verberg dropdown
    dropdown.classList.remove('flex');  // Zet display terug
  }
});

// Event Listener: Sluit dropdown automatisch na klik op een menu-item (bijv. "Programma")
// (Deze event listener is nu minder nodig omdat we closeDropdown() inline gebruiken)
document.addEventListener('DOMContentLoaded', function() {
  const dropdownLinks = document.querySelectorAll('#dropdownMenu a');
  dropdownLinks.forEach(link => {
    link.addEventListener('click', function() {
      closeDropdown();
    });
  });
});
</script>
